import{j as e}from"./ui-vendor-BpIggZZ9.js";import{b as c}from"./react-vendor-C7VPsBAG.js";import{C as i,f as g,g as N,i as d,a1 as u,n as b,$ as v}from"./index-Bshoxa3b.js";import{P as y}from"./progress-BQnuNZzz.js";import{T as w}from"./trophy-4C1s-oG7.js";import"./utils-vendor-BUCX3MvZ.js";function S(){const[r,o]=c.useState([]),[m,x]=c.useState(!0);c.useEffect(()=>{h()},[]);const h=async()=>{try{const a=await fetch("/api/achievements/my-progress",{credentials:"include"});if(a.ok){const t=await a.json();o(t)}}catch{}finally{x(!1)}},p=[...new Set(r.map(a=>a.category))];if(m)return e.jsx("div",{className:"container mx-auto py-8",children:e.jsx("div",{className:"text-center",children:"Loading achievements..."})});const l=r.filter(a=>a.earned).length,n=r.length,j=n>0?l/n*100:0;return e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsxs(i,{className:"mb-6",children:[e.jsx(g,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-6 w-6"}),"Achievements"]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{className:"font-bold",children:[l," / ",n]})]}),e.jsx(y,{value:j,className:"h-3"})]})})]}),p.map(a=>{const t=r.filter(s=>s.category===a),f=t.filter(s=>s.earned).length;return e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 capitalize",children:[a," (",f,"/",t.length,")"]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.map(s=>e.jsx(i,{className:s.earned?"border-green-500":"",children:e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`
                        p-2 rounded-lg
                        ${s.earned?"bg-green-500 text-white":"bg-muted"}
                      `,children:s.earned?e.jsx(u,{className:"h-6 w-6"}):e.jsx(b,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(v,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("span",{className:"font-medium",children:[s.rewardValue," coins"]}),s.earned&&s.earnedAt&&e.jsx("span",{className:"ml-auto text-xs text-green-600",children:"âœ“ Earned"})]})]})]})})},s.id))})]},a)})]})}export{S as default};
