import{j as e}from"./ui-vendor-BpIggZZ9.js";import{u as B}from"./react-vendor-C7VPsBAG.js";import{c as _,u as D,Z as A,av as $,aw as F,N as o,a0 as l,C as t,i as r,$ as d,B as m,a7 as h,f as g,g as j,Q as p,p as I,F as M}from"./index-Bshoxa3b.js";import{T as W,a as E,b as y,c as b}from"./tabs-72BErqnU.js";import{S as x}from"./shopping-cart-1UVixAJg.js";import{T as U}from"./trending-down-CiPk0oR1.js";import{D as u}from"./dollar-sign-c3-1CJgR.js";import{G as V}from"./gift-CIPErmUR.js";import"./utils-vendor-BUCX3MvZ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=_("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);function X(){const[,i]=B(),{isAuthenticated:N,isLoading:f}=D(),{data:v,isLoading:w}=A(),{data:c,isLoading:T}=$(100),{data:n,isLoading:L}=F();if(f||w)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900",children:[e.jsx(o,{}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-20",children:[e.jsx(l,{className:"h-12 w-96 mb-6 bg-gray-800"}),e.jsx(l,{className:"h-64 mb-6 bg-gray-800"}),e.jsx(l,{className:"h-96 bg-gray-800"})]})]});if(!N)return i("/login?returnTo=/wallet"),null;const C=s=>{switch(s){case"purchase":return e.jsx(x,{className:"w-5 h-5 text-green-500"});case"unlock_chapter":return e.jsx(d,{className:"w-5 h-5 text-orange-500"});case"gift_received":case"gift_sent":return e.jsx(V,{className:"w-5 h-5 text-purple-500"});case"admin_grant":return e.jsx(u,{className:"w-5 h-5 text-blue-500"});case"referral_reward":case"referral_bonus":return e.jsx(h,{className:"w-5 h-5 text-amber-500"});default:return e.jsx(p,{className:"w-5 h-5 text-gray-500"})}},S=s=>s.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "),k=c?.filter(s=>s.amount>0).reduce((s,a)=>s+a.amount,0)||0,H=Math.abs(c?.filter(s=>s.amount<0).reduce((s,a)=>s+a.amount,0)||0),P=n?.reduce((s,a)=>s+parseFloat(a.amountPaid),0)||0;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900",children:[e.jsx(o,{}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 border border-primary/20 rounded-full mb-6",children:[e.jsx(G,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"text-sm font-semibold text-primary",children:"Your Wallet"})]}),e.jsx("h1",{className:"text-4xl sm:text-6xl font-bold text-white mb-4",children:"Coin Balance & History"}),e.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Track your coins, transactions, and purchase history"})]}),e.jsx(t,{className:"bg-gradient-to-br from-primary/20 to-accent/20 border-primary/40 mb-8",children:e.jsxs(r,{className:"p-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(d,{className:"w-12 h-12 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Current Balance"}),e.jsx("p",{className:"text-6xl font-bold text-white",children:v?.balance.toLocaleString()||0})]})]}),e.jsxs(m,{onClick:()=>i("/shop"),className:"mt-4 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90",size:"lg",children:[e.jsx(x,{className:"w-5 h-5 mr-2"}),"Buy More Coins"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(t,{className:"bg-gray-900/50 border-gray-800",children:e.jsxs(r,{className:"p-6 text-center",children:[e.jsx(h,{className:"w-10 h-10 mx-auto mb-3 text-green-500"}),e.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:k.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-400",children:"Total Earned"})]})}),e.jsx(t,{className:"bg-gray-900/50 border-gray-800",children:e.jsxs(r,{className:"p-6 text-center",children:[e.jsx(U,{className:"w-10 h-10 mx-auto mb-3 text-red-500"}),e.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:H.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-400",children:"Total Spent"})]})}),e.jsx(t,{className:"bg-gray-900/50 border-gray-800",children:e.jsxs(r,{className:"p-6 text-center",children:[e.jsx(u,{className:"w-10 h-10 mx-auto mb-3 text-amber-500"}),e.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:["$",P.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Total Purchased"})]})})]}),e.jsxs(W,{defaultValue:"transactions",className:"space-y-6",children:[e.jsxs(E,{className:"bg-gray-900/50 border border-gray-800",children:[e.jsx(y,{value:"transactions",children:"Transaction History"}),e.jsx(y,{value:"purchases",children:"Purchase History"})]}),e.jsx(b,{value:"transactions",children:e.jsxs(t,{className:"bg-gray-900/50 border-gray-800",children:[e.jsx(g,{children:e.jsx(j,{className:"text-white",children:"Transaction History"})}),e.jsx(r,{children:T?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>e.jsx(l,{className:"h-16 bg-gray-800"},s))}):!c||c.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(p,{className:"w-16 h-16 mx-auto mb-4 text-gray-600"}),e.jsx("p",{className:"text-gray-400",children:"No transactions yet"})]}):e.jsx("div",{className:"space-y-3",children:c.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[C(s.type),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:s.description}),e.jsxs("p",{className:"text-sm text-gray-400",children:[S(s.type)," •"," ",new Date(s.createdAt).toLocaleString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-lg font-bold ${s.amount>0?"text-green-500":"text-red-500"}`,children:[s.amount>0?"+":"",s.amount.toLocaleString()]}),e.jsx("p",{className:"text-xs text-gray-400",children:"coins"})]})]},s.id))})})]})}),e.jsx(b,{value:"purchases",children:e.jsxs(t,{className:"bg-gray-900/50 border-gray-800",children:[e.jsx(g,{children:e.jsx(j,{className:"text-white",children:"Purchase History"})}),e.jsx(r,{children:L?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>e.jsx(l,{className:"h-16 bg-gray-800"},s))}):!n||n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(x,{className:"w-16 h-16 mx-auto mb-4 text-gray-600"}),e.jsx("p",{className:"text-gray-400",children:"No purchases yet"}),e.jsx(m,{onClick:()=>i("/shop"),className:"mt-4 bg-primary",children:"Visit Shop"})]}):e.jsx("div",{className:"space-y-3",children:n.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-medium",children:[s.currencyReceived.toLocaleString()," coins"]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s.paymentProvider," •"," ",new Date(s.createdAt).toLocaleString()]}),s.transactionId&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1 font-mono",children:[s.transactionId.substring(0,20),"..."]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",s.amountPaid]}),e.jsx(I,{className:s.status==="completed"?"bg-green-500/20 text-green-500 border-green-500/30":s.status==="pending"?"bg-yellow-500/20 text-yellow-500 border-yellow-500/30":"bg-red-500/20 text-red-500 border-red-500/30",children:s.status})]})]},s.id))})})]})})]})]}),e.jsx(M,{})]})}export{X as default};
